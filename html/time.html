<html lang="en">
<head>
    <!--<meta property="og:image" content="poggers.jpg">-->
    <title>v0.2.3</title>
</head>
<body>
<p><span id="datetime">Something went wrong...</span></p>
<script>
    const queryString = window.location.search
    console.log(queryString);
    const urlParams = new URLSearchParams(queryString);
    const name = urlParams.get("name");
    const ogTime = urlParams.get("og_time")
    const difference = urlParams.get("difference")
    const createdUTC = urlParams.get("created")
    const currentDate = new Date()
    const convertedMinutes = currentDate.getMinutes() + parseInt(difference.split(":")[1]) + (currentDate.getUTCMinutes() - parseInt(createdUTC.split(":")[1]))
    //last part below needed because date.gethours is in 12 hr time
    const convertedHours = currentDate.getHours() + parseInt(difference.split(":")[0]) + (currentDate.getUTCHours() - parseInt(createdUTC.split(":")[0])) +  (convertedMinutes>59? 25 : 24)

    const diffMins = 60
    const convertedTime = new Date(currentDate.getTime() + parseFloat(urlParams.get("difference"))*1000);




    document.getElementById("datetime").innerHTML = currentDate.toTimeString() + " to " +  convertedTime.toTimeString() + " " + ogTime + " " + name + "\'s time is " + (convertedHours%24) + ":" + (convertedMinutes%60)
         + " your time." + "<br/><br/>" +
        "Remember, the times listed are in 24 hour time!!!<br/><br/><br/>" +
        "Also, this may not work for all time zone conversions, especially when working with time zones that are not a " +
        "whole number of hours off Greenwich."
</script>
</body>
</html>